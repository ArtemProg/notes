https://developer.apple.com/documentation/swift/range

https://docs.swift.org/swift-book/documentation/the-swift-programming-language/



### Числа

#### Преобразование строки в число

```swift
Int("123") // 123 типа Int?
Int("abcd") // nil
Int("10") // 10 типа Int?
Int("10", radix: 2) // 2 типа Int?
Int("1.5") // nil
Double("1.5") // 1.5 типа Double?
```



#### Округление

**round** - Округляет до ближайшего целого числа. Значение x.5 округляется вверх, а значение -x.5 вниз.

```swift
round(3.499) // 3
round(3.500) // 4
round(-3.499) // -3
round(-3.500) // -4
```

**ceil** - Округляет любое число с десятичной частью до следующего большого целого числа.

```swift
ceil(3.000) // 3
ceil(3.001) // 4
ceil(-3.000) // -3
ceil(-3.001) // -3
ceil(-3.999) // -3
```

**floor** - Округляет любое число с десятичной частью до следующего меньшего целого числа.

```swift
ceil(3.000) // 3
ceil(3.999) // 3
ceil(-3.000) // -3
ceil(-3.001) // -4
ceil(-3.999) // -4
```

Int - Преобразует Double в Int, отбрасывая любую десятичную часть.

```swift
ceil(3.001) // 3
ceil(3.999) // 3
ceil(-3.000) // -3
ceil(-3.001) // -3
ceil(-3.999) // -3
```



#### Генерация случайных чисел

Возвращает случайное число от 0 до someNumber - 1.

```swift
arc4random_uniform(someNumber: UInt32) -> UInt32
```

```swift
let flip = arc4random_uniform(2) // 0 или 1
let roll = arc4random_uniform(6) + 1 // 1...6
```



### Строки

```swift
let greeting = "Hello!" // Строка
let chr: Character = "H" // Символ
```

Длинна строки:

```swift
greeting.count // 5
```

Объединение строк и интерполяция:

```swift
var name = "Anna"
var surname = "Sonn"

// Конкатенация
var fullName = name + " " + surname
var fullName2 = name
fullName2.append(" " + surname)

// Интерполяция
let newInformation = "\(fullName) is the CEO of Apple"
```

Объединение последовательности строк для формирования новой строки с помощью joined. Разделитель по умолчанию - пустая строка.

```swift
["a", "b", "c"].joined() // "abc"
["a", "b", "c"].joined(separator: " & ") // "a & b & c"
```

Является ли строка пустой:

```swift
if str.isEmpty {
  // какие то действия
}
```

Проверка, начинается ли / заканчивается ли строка другой строкой:

```swift
"fortitude".hasPrefix("fort") // true
"Swift Tanguage".hasSuffix("age") // true
```

Итерация по строке:

```swift
for character in "Hello!" {
  print(character)
}
```

Преобразование строки в массив символов:

```swift
let characters = Array("Hello!") // ["H", "e", "l", "l", "o", "!"]
```



### Логические значения

Оператор  XOR (^)

Исключающее ИЛИ - возвращает true, если один и только один из двух операндов оценивается как true.

```swift
if (10 < 20) ^ (20 < 10) {
  print("Выражение истинно")
}
```



### switch

```swift
var animal = "dove"

switch animal {
case "cat":
    print("it's a cat")
case "parrot", "dove", "sparrow", "bird":
    print("it's a bird")
default:
    print("I don't know this kind of animal")
}

let numberOfPeople = 5
var amount = ""

switch numberOfPeople {
case ..<0:
    print("it's impossible!")
case 0:
    amount = "no"
case 1:
    amount = "one"
case 2...5:
    amount = "few"
case 6..<10:
    amount = "enough"
default:
    amount = "too many"
}
```



### Циклы

```swift
for num in 1...5 {
    print(num)
}

for bird in ["parrot", "dove", "sparrow", "bird"] {
    print(bird)
}

let childrenCount = ["Johnsons": 4, "Simpsons": 3, "Jacksons": 8]
for (family, childrenCount) in childrenCount {
    print("The \(family) have \(childrenCount) children")
}
for family in childrenCount.keys {}
for count in childrenCount.values {}

for character in "Hello, world!" {
    print(character)
}
```



### guard

```swift
// Для выхода из функций
func checkUser(username: String, password: String) {
    guard username != "" else { return }
    guard password != "" else { return }
    print("Welcome to our site!")
}

// Для прерывания циклов
for number in 1...5 {
    guard number != 3 else { break }
    print(number)
}


var temp: Int?
temp = 25

func checkTemp(temp: Int?) {
    guard let temp = temp else { return }
    print("The temperature is \(temp) degrees")
}
```





### Псевдонимы типов

```swift
typealias Centigrade = Int

let temperature: Centigrade = 25
let anotherTemp = 20
let difference = temperature - anotherTemp

typealias CompletionHandler = (Int, String) -> String
func someFunc(closure: CompletionHandler) {
    let result = closure(42, "Hello, world!")  // Вызываем переданное замыкание
    print(result) 
}

someFunc { (number, message) in
    return "Number: \(number), Message: \(message)"
}
```



#### Обработка ошибок

```swift
struct Printer {
    var paper: Bool
    var toner: Bool
}

enum PrintingErrors: Error {
    case noPaper
    case noToner
}

func printDocument(on printer: Printer) throws {
    guard printer.paper else {
        throw PrintingErrors.noPaper
    }
    
    guard printer.toner else {
        throw PrintingErrors.noToner
    }
    
    print("Документ успешно напечатан!")
}

let printer = Printer(paper: false, toner: true)

do {
    try printDocument(on: printer)
} catch PrintingErrors.noPaper {
    print("Ошибка: добавьте бумагу в принтер!")
} catch PrintingErrors.noToner {
    print("Ошибка: заправьте принтер тонером!")
} catch {
    print("Неизвестная ошибка: \(error)")
}

```

Есть три способа обработки ошибок при вызове функций, которые могут выбрасывать (`throws`) исключения:

- `try` – стандартный способ с `do-catch`
- `try?` – безопасное приведение ошибки в `nil`
- `try!` – принудительное выполнение (краш, если ошибка)
