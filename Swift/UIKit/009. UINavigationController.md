UINavigationController

Navigation Controller – это контейнер, отображающий внутри себя дочерние сцены, который позволяет изменять значения некоторых параметров, влияющих на визуальное отображение этих сцен.

Класс UINavigationController включает в себя несколько специальных методов, позволяющих производить навигацию между сценами внутри навигационного контроллера:

- `pushViewController(_:animated:)` добавляет View Controller в навигационный стек и отображает соответствующую ему сцену на экране (внутри навигационного контроллера);

- `popToRootViewController(animated:)` удаляет все контроллеры из навигационного стека и производит переход к корневой сцене.

- `popViewController(animated:)` удаляет из навигационного стека верхний элемент и осуществляет переход к предыдущей сцене;

- `popToViewController(_:animated:)` производит переход к конкретной сцене в навигационном стеке, удаляя все вышележащие элементы.

  

### Доступ к навигационному стеку

Для получения доступа к навигационному стеку используется свойство viewControllers класса UINavigationController:

```swift
self.navigationController?.viewControllers
```

Возврат к определенной сцене:

```swift
// перебираем все элементы стека
self.navigationController?.viewControllers.forEach { viewController in
  // определяем требуемый контроллер
  // SomeViewController – это класс, соответствующий искомому контроллеру
  if viewController is SomeViewController {
    // производим возврат к нему
    self.navigationController?.popToViewController(viewController, animated: true)
  }
}
```

Работа с корневой сценой:

```swift
// изменяем корневую сцену
self.navigationController?.viewControllers[0] = someViewController
```



### Текстовое наполнение Navigation Bar

Для того, чтобы указать название сцены, в ее состав должен входить элемент Navigation Item.

Выделив Navigation Item на панели Attributes Inspector, можно настроить заголовок сцены, вспомогательный текст , а также текст кнопки возврата. Поле Back Button определяет текст, который будет отображен на кнопке возврата на следующей сцене в стеке, а не на текущей.

Данные параметры могут быть определены также с помощью программного кода, например, в методе `viewDidLoad`:

```swift
override func viewDidLoad() {
  super.viewDidLoad()
  self.navigationItem.prompt = "Подсказка"
  self.navigationItem.title = "Заголовок сцены"
  self.navigationItem.backButtonTitle = "Назад"
}
```

Операционная система iOS поддерживает два стиля оформления заголовка сцены в Navigation Bar: стандартный и увеличенный. По умолчанию используется стандартный стиль оформления.



`leftBarButtonItem` позволяет добавить кнопку (значение типа `UIBarButtonItem`) в левую часть панели. Аналогичным образом действует `rightBarButtonItem`, определяя кнопку для правой части панели.

```swift
// кнопка активации режима редактирования
navigationItem.leftBarButtonItem = editButtonItem
```



### Кнопка Back

Кнопка Back по умолчанию отображает заголовок той формы на которую она ведет если длинна текста позволяет, в противном случае отображает текст "Back".

Что бы изменить текст кнопки "Back" на экране "B", нужно задать:

```swift
navigationItem.backButtonTitle = "Назад"
```

На экране "A" - то есть на том контроллере, с которого мы переходим. Кнопка Back всегда принадлежит предыдущему контроллеру в UINavigationController.

Если текст слишком длинный и не помещается, iOS автоматически заменит его на стандартное "Back", чтобы сохранить читаемость интерфейса.

`backBarButtonItem` имеет имеет **больший приоритет**, если указаны и `backButtonTitle`, и `backBarButtonItem`.

```swift
navigationItem.backBarButtonItem
```

Для того что бы скрыть кнопку Back, необходимо на экране с которого происходит возврат к другому экрану задать:

```swift
navigationItem.hidesBackButton = true
// или
navigationItem.setHidesBackButton(true, animated: false)
```

