### –û–ø—Ü–∏–æ–Ω–∞–ª—ã

```swift
var someString: String? // nil

var temp: Int? // nil

print("The temperature is \(temp!) degrees") // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ

if temp != nil {
    print("The temperature is \(temp ?? 0) degrees")
}

// –ü—Ä–∏–≤—è–∑–∫–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª–æ–≤
if let temp = temp {
    print("The temperature is \(temp) degrees")
}

// –ù–µ—è–≤–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ–ø—Ü–∏–æ–Ω–∞–ª–æ–≤
var name = ""
var newName: String!
newName = "Jane"
name = newName
newName = nil

```



–í Swift –æ–ø—Ü–∏–æ–Ω–∞–ª—ã (`Optional<T>`) ‚Äì —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä, –∞ –æ—Å–æ–±–∞—è –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ –æ–±—ã—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏. –ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º –æ–Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ (`enum`) —Å –¥–≤—É–º—è —Å–ª—É—á–∞—è–º–∏:

```swift
enum Optional<T> {
    case some(T)   // –ï—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ (–æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Ç–∏–ø T)
    case none      // –ó–Ω–∞—á–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (nil)
}
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ `nil` ‚Äì —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ `Optional.none`, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî —ç—Ç–æ `Optional.some(T)`.

```swift
var name: String? = "Alex"
var name: Optional<String> = Optional.some("Alex")

var emptyName: String? = nil
var emptyName: Optional<String> = Optional.none
```



#### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø—Ä–∏–≤—è–∑–∫–∞

–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `if let` (—Å–∞—Ö–∞—Ä –¥–ª—è `switch`):

```swift
if let actualName = name {
    print("–ò–º—è: \(actualName)")
} else {
    print("–ò–º—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç")
}

// Swift –∑–∞–º–µ–Ω—è–µ—Ç —ç—Ç–æ –Ω–∞:
switch name {
case .some(let actualName):
    print("–ò–º—è: \(actualName)")
case .none:
    print("–ò–º—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç")
}
```

–í –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ —è–∑—ã–∫–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∂–µ —Å–∞–º–æ–µ –∏–º—è, —á—Ç–æ –∏ —É –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∞ —Ç–∞–∫ –∂–µ –æ–ø—É—Å—Ç–∏—Ç—å —Å–∞–º–æ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ:

```swift
if let name {
    print("–ò–º—è: \(name)")
}
```





#### Force Unwrapping

–ü–æ—á–µ–º—É `!` –æ–ø–∞—Å–µ–Ω? 

```swift
print(name!)

// Swift –∑–∞–º–µ–Ω—è–µ—Ç —ç—Ç–æ –Ω–∞:
switch name {
case .some(let actualName):
    print(actualName)
case .none:
    fatalError("Unexpectedly found nil while unwrapping an Optional value")
}
```



#### –û–ø–µ—Ä–∞—Ç–æ—Ä Nil-Coalescing

–û–ø–µ—Ä–∞—Ç–æ—Ä `??` (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):

```swift
let displayName = name ?? "–ì–æ—Å—Ç—å"

// Swift –∑–∞–º–µ–Ω—è–µ—Ç —ç—Ç–æ –Ω–∞:
let displayName: String
switch name {
case .some(let actualName):
    displayName = actualName
case .none:
    displayName = "–ì–æ—Å—Ç—å"
}
```



#### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏

```swift
class Person {
    var job: Job? = Job()
}

class Job {
    var salary: Salary? = Salary()
}

class Salary {
    let amount = 1000
    func showSalary() -> String {
        "my salary is \(amount)"
    }
}

let person = Person()

// –í–∞—Ä–∏–∞–Ω—Ç 1
if let job = person.job {
    if let salary = job.salary {
        print(salary.amount)
    }
}

// –í–∞—Ä–∏–∞–Ω—Ç 2
if let job = person.job, let salary = job.salary {
    print(salary.amount)
}

// –í–∞—Ä–∏–∞–Ω—Ç 3
if let salaryAmount = person.job?.salary?.amount {
    print(salaryAmount)
}

let salaryAmount2 = person.job?.salary?.amount ?? 0
```



#### –ù–µ—è–≤–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ–ø—Ü–∏–æ–Ω–∞–ª–∞ (`Implicitly Unwrapped Optional`)

—ç—Ç–æ –æ—Å–æ–±—ã–π —Ç–∏–ø –æ–ø—Ü–∏–æ–Ω–∞–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç (`unwrap`) —Å–≤–æ—ë –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `!`.

- –û–±–æ–∑–Ω–∞—á–∞–µ—Ç—Å—è `!` –ø–æ—Å–ª–µ —Ç–∏–ø–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: `String!`, `Int!`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º.



### guard

```swift
// –î–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π
func checkUser(username: String, password: String) {
    guard username != "" else { return }
    guard password != "" else { return }
    print("Welcome to our site!")
}

// –î–ª—è –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —Ü–∏–∫–ª–æ–≤
for number in 1...5 {
    guard number != 3 else { break }
    print(number)
}


var temp: Int?
temp = 25

func checkTemp(temp: Int?) {
    guard let temp = temp else { return }
    print("The temperature is \(temp) degrees")
}
```





#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤

##### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ (`is`)

```swift
let value: Any = "Hello"

if value is String {
    print("–≠—Ç–æ —Å—Ç—Ä–æ–∫–∞")
}
```



##### –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ (`as`, `as?`, `as!`)

**`as?` (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ)** ‚Äì –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `nil`, –µ—Å–ª–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å.

```swift
let value: Any = "Hello"
if let stringValue = value as? String {
    print("–°—Ç—Ä–æ–∫–∞: \(stringValue)")
}
```

**`as!` (–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ)** ‚Äì **–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ —Ç–æ—á–Ω–æ —É–≤–µ—Ä–µ–Ω**, —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –±—É–¥–µ—Ç —É—Å–ø–µ—à–Ω—ã–º.

```swift
let value: Any = "Hello"
let stringValue = value as! String  // –û—à–∏–±–∫–∞, –µ—Å–ª–∏ value –Ω–µ String
print(stringValue)
```

**`as` (–ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ)** ‚Äì –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏.

```swift
class Animal {}
class Dog: Animal {}

let dog = Dog()
let pet: Animal = dog  // Upcasting –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
let anotherPet = dog as Animal  // –ú–æ–∂–Ω–æ —è–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `as`
```

üîπ `is` ‚Äì –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–±—ä–µ–∫—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º —Ç–∏–ø–æ–º.
üîπ `as?` ‚Äì –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `nil`, –µ—Å–ª–∏ –Ω–µ —É–¥–∞—á–Ω–æ).
üîπ `as!` ‚Äì –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ (–∫—Ä–∞—à–∏—Ç—Å—è, –µ—Å–ª–∏ –Ω–µ —É–¥–∞—á–Ω–æ).
üîπ `as` ‚Äì –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å—É (upcasting).

**–ò—Å–ø–æ–ª—å–∑—É–π `as?` –≤–º–µ—Å—Ç–æ `as!`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Å–±–æ–µ–≤ –≤ –∫–æ–¥–µ!**



–ü—Ä–∏–º–µ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è:

```swift
let anyCollection: [Any] = [3.14, 8, false, "Anna", 4, 7.12, "55", true, 67, 4, false, 53.0, "3 + 2", "-26.25"]

let total = anyCollection.reduce(0.0) { result, value in
    switch value {
    case let number as Double:
        result + number
    case let number as Int:
        result + Double(number)
    case let flag as Bool:
        result + (flag ? 2.0 : -3.0)
    case is String:
        result + 1.0
    default:
        result
    }
}

print ("Total: \(total)")
```



–ü—Ä–∏–º–µ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–∂–µ–Ω–µ—Ä–∏–∫–∞ –∏ –∑–∞–º—ã–∫–∞–Ω–∏—è:

```swift
let anyCollection: [Any] = [3.14, 8, false, "Anna", 4, 7.12, "55", true, 67, 4, false, 53.0, "3 + 2", "-26.25"]

func printTypeValues<T>(from items: [Any], filter: (Any) -> T?) {
    print("\(T.self):")
    for (index, item) in items.enumerated() {
        if let item = filter(item) {
            print("[\(index)] \(type(of: item)): \(item)")
        }
    }
}

printTypeValues(from: anyCollection) { $0 as? Int }
printTypeValues(from: anyCollection) { $0 as? Double }
printTypeValues(from: anyCollection) { $0 as? String }
printTypeValues(from: anyCollection) { $0 as? Bool }
```

