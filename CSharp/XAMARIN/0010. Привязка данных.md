

## Привязка данных

https://docs.microsoft.com/ru-ru/learn/modules/separate-your-ui-and-code-with-xamarin-forms-data-binding/2-use-databinding-in-xamarin-forms



### Создание привязок данных в XAML

Пример привязки в XAML с помощью расширения разметки `{Binding}`

```xaml
<!-- In XAML our bindings do not need to set Source -->
<StackLayout Padding="20" Spacing="20">
    <StackLayout.Resource>
        <ResourceDictionary>
            <Todo x:Kye="getMilk" Title="Pickup some Milk" />
        </ResourceDictionary>
    </StackLayout.Resource>
    <Entry Text="{Binding Title, Source={StaticResource getMilk}}" />
</StackLayout>
```



### Создание привязок данных в коде

Этот метод может быть удобен при динамическом создании пользовательского интерфейса.

```c#
// Create Source
ToDo task = new ToDo() { Title = "Pickup some Milk", ... };

// Create target
Entry Name = new Entry();

// Create binding, identifying Source and Path
Binding nameBinding = new Binding()
nameBinding.Source = task;
nameBinding.Path = "Title";

// Set Binding, identifying Target object and Target property
Name.SetBinding(Entry.TextProperty, nameBinding);
```



### Использование одного источника для нескольких привязок

Класс `BindableObject` определяет свойство с именем `BindingContext`. Все страницы, панели макета и элементы управления Xamarin.Forms наследуют от `BindableObject`, таким образом, данное свойство есть у всех этих элементов.

```c#
// In code-behind we set Page.BindingContext
BindingContext = new Todo() { Title = "Pickup some milk", Notes = "Stop at the Grocery Store!", Completed = true }
```

```xaml
<!-- In XAML our bindings do not need to set Source -->
<StackLayout Padding="20" Spacing="20">
    <Entry Text="{Binding Title}" />
    <Entry Text="{Binding Notes}" />
    <Switch IsToggled="{Binding Completed}" />
</StackLayout>
```

Привязки отслеживают изменения в *ссылке на объект* своего источника. Эта функция работает даже для привязок, использующих `BindingContext` в качестве источника. Если `Source` или `BindingContext` переназначается другому объекту, привязка получает данные из нового источника и обновляет целевой объект.