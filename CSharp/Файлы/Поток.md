Поток (stream) - это способ, которым .NET обменивается данными с программой.

Каждый поток является производным от абстрактного класса *Stream*. Все производные классы добавляют свойства и методы в соответствии со своей функциональностью. Вот некоторые из них:

- *FileStream* - позволяет читать файлы и записывать в них.
- *MemoryStream* - позволяет читать данные из памяти и записывать их в память.
- *NetworkStream* - осуществляет чтение и запись данных по сети.
- *GZipStream* - сжимает данные, уменьшая занимаемое ими место и тем самым облегчая их скачивание и хранение.
- *CryptoStream* - позволяет зашифровать данные перед тем, как проделать с ними все остальные операции.



Потоки можно передавать по цепочке. Один поток может быть записан в другой, который в свою очередь записывается в еще один поток... концом цепочки часто является файл.

Все потоки имеют закрывающий метод Dispose(). При этом поток, объявленный внутри оператора using, всегда закрывает себя сам. Потоки рекомендуется объявлять внутри оператора using. Это гарантирует, что после завершения работы они будут закрыты.



**FileStream**

Строки которые требуется записать, следует преобразовать в массив типа *byte*.

Существуют классы обертки для более удобной работы с файлами *txt*, такие как: *StreamWriter* и *StreamReader*.

Файлы на диске представлены в виде битов и байтов. Другими словами, при записи файла на жесткий диск операционная система воспринимает его как набор байтов. Объекты StreamReader и StreamWriter преобразуют эти байты в понятные вам символы, то есть выполняют кодирование и раскодирование. Переменная типа byte хранит значения от 0 до 255. Все файлы на жестком диске представляют собой длинные последовательности чисел из этого диапазона. При открытии файла, скажем, в приложении Блокнот каждый байт преобразуется в символ: например, E соответствует 69, а a — 97 (впрочем, все зависит от кодировки...). Соответственно при сохранении введенного вами в Блокнот текста символы преобразуются обратно в байты. Это преобразование нужно и для записи переменной типа string в поток.

Знак **@** перед именем файла приводит к тому, что файл начинает восприниматься как текстовая строка без esc-последовательностей.

Метод *Close()* разрывает связь с файлом и прочими ресурсами, с которыми работает объект *StreamWriter*/*StreamReader*. Если не закрыть поток, запись текста осуществлена не будет. Забыв закрыть поток, мы блокируем доступ к файлу всем прочим программам.